<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Admin Settings - YouTube Transcript Converter</title>    <link rel="preconnect" href="https://fonts.googleapis.com">    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">    <link rel="stylesheet" href="../styles.css">    <style>        /* Dashboard styles */        .admin-layout {            display: flex;            min-height: 100vh;        }                .admin-sidebar {            width: 250px;            background-color: #2c3e50;            color: white;            padding: 20px;            position: fixed;            height: 100vh;            overflow-y: auto;        }                .admin-logo {            font-size: 22px;            font-weight: 700;            margin-bottom: 40px;            display: flex;            align-items: center;        }                .admin-logo img {            width: 32px;            margin-right: 10px;        }                .admin-menu {            list-style: none;            padding: 0;            margin: 0;        }                .admin-menu li {            margin-bottom: 5px;        }                .admin-menu a {            display: block;            padding: 12px 15px;            color: white;            text-decoration: none;            border-radius: 4px;            transition: background-color 0.2s;        }                .admin-menu a:hover {            background-color: #34495e;        }                .admin-menu a.active {            background-color: #3498db;        }                .admin-content {            flex: 1;            padding: 20px 20px 20px 270px;            background-color: #f5f7fa;        }                .admin-header {            display: flex;            justify-content: space-between;            align-items: center;            margin-bottom: 30px;            background-color: white;            padding: 15px 20px;            border-radius: 8px;            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);        }                .page-title {            margin: 0;            font-size: 24px;        }                .admin-user {            display: flex;            align-items: center;        }                .admin-user img {            width: 40px;            height: 40px;            border-radius: 50%;            margin-right: 10px;        }                .settings-section {            background-color: white;            border-radius: 8px;            padding: 20px;            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);            margin-bottom: 30px;        }                .section-header {            display: flex;            justify-content: space-between;            align-items: center;            margin-bottom: 20px;            padding-bottom: 10px;            border-bottom: 1px solid #eee;        }                .section-title {            font-size: 18px;            font-weight: 500;            margin: 0;        }                .settings-form {            margin-bottom: 30px;        }                .form-group {            margin-bottom: 20px;        }                .form-group label {            display: block;            margin-bottom: 8px;            font-weight: 500;        }                .form-group input[type="text"],        .form-group input[type="number"],        .form-group input[type="email"],        .form-group select,        .form-group textarea {            width: 100%;            padding: 10px 12px;            border: 1px solid #ddd;            border-radius: 4px;            font-size: 16px;        }                .form-group textarea {            min-height: 100px;            resize: vertical;        }                .form-group .checkbox-label {            display: flex;            align-items: center;            cursor: pointer;        }                .form-group .checkbox-label input {            margin-right: 10px;        }                .form-row {            display: flex;            gap: 20px;            margin-bottom: 20px;        }                .form-row .form-group {            flex: 1;            margin-bottom: 0;        }                .btn {            display: inline-block;            padding: 10px 20px;            border: none;            border-radius: 4px;            background-color: #3498db;            color: white;            font-size: 16px;            font-weight: 500;            cursor: pointer;            transition: background-color 0.2s;        }                .btn-primary {            background-color: #3498db;        }                .btn-primary:hover {            background-color: #2980b9;        }                .btn-secondary {            background-color: #95a5a6;        }                .btn-secondary:hover {            background-color: #7f8c8d;        }                .btn-danger {            background-color: #e74c3c;        }                .btn-danger:hover {            background-color: #c0392b;        }                .btn-sm {            padding: 6px 12px;            font-size: 14px;        }                .alert {            padding: 12px 15px;            border-radius: 4px;            margin-bottom: 20px;        }                .alert-success {            background-color: #d4edda;            color: #155724;            border: 1px solid #c3e6cb;        }                .alert-danger {            background-color: #f8d7da;            color: #721c24;            border: 1px solid #f5c6cb;        }                .alert-info {            background-color: #d1ecf1;            color: #0c5460;            border: 1px solid #bee5eb;        }        /* Toggle switch styling */        .switch {            position: relative;            display: inline-block;            width: 60px;            height: 34px;        }                .switch input {            opacity: 0;            width: 0;            height: 0;        }                .slider {            position: absolute;            cursor: pointer;            top: 0;            left: 0;            right: 0;            bottom: 0;            background-color: #ccc;            transition: .4s;            border-radius: 34px;        }                .slider:before {            position: absolute;            content: "";            height: 26px;            width: 26px;            left: 4px;            bottom: 4px;            background-color: white;            transition: .4s;            border-radius: 50%;        }                input:checked + .slider {            background-color: #3498db;        }                input:checked + .slider:before {            transform: translateX(26px);        }                .setting-item {            display: flex;            justify-content: space-between;            align-items: center;            padding: 15px 0;            border-bottom: 1px solid #eee;        }                .setting-item:last-child {            border-bottom: none;        }                .setting-info {            flex: 1;        }                .setting-name {            font-weight: 500;            margin-bottom: 5px;        }                .setting-description {            color: #666;            font-size: 14px;        }                @media (max-width: 768px) {            .admin-sidebar {                width: 70px;                padding: 15px 10px;                overflow: hidden;            }                        .admin-logo span {                display: none;            }                        .admin-menu a {                padding: 12px;                text-align: center;            }                        .admin-content {                padding-left: 90px;            }                        .form-row {                flex-direction: column;                gap: 0;            }        }        .health-check-results {            background: white;            border-radius: 8px;            padding: 20px;            margin-top: 20px;            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);        }        .health-check-item {            display: flex;            justify-content: space-between;            padding: 10px 0;            border-bottom: 1px solid #eee;        }        .health-check-item:last-child {            border-bottom: none;        }        .health-check-item .status {            font-weight: 500;        }        .import-export-buttons {            display: flex;            gap: 10px;            margin-top: 20px;        }        .file-input-wrapper {            position: relative;            overflow: hidden;            display: inline-block;        }        .file-input-wrapper input[type=file] {            position: absolute;            left: 0;            top: 0;            opacity: 0;            cursor: pointer;        }        .analytics-grid {            display: grid;            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));            gap: 20px;            margin-top: 20px;        }                .analytics-card {            background: #f8f9fa;            padding: 20px;            border-radius: 8px;            text-align: center;        }                .analytics-value {            font-size: 24px;            font-weight: 500;            margin-top: 10px;            color: #2c3e50;        }                .logs-container {            margin-top: 20px;        }                .log-filters {            display: flex;            gap: 10px;            margin-bottom: 15px;        }                .log-entries {            max-height: 300px;            overflow-y: auto;            background: #f8f9fa;            border-radius: 4px;            padding: 10px;        }                .log-entry {            padding: 8px;            border-bottom: 1px solid #eee;            font-family: monospace;        }                .log-entry:last-child {            border-bottom: none;        }                .log-timestamp {            color: #666;            margin-right: 10px;        }                .log-level {            font-weight: bold;            margin-right: 10px;        }                .log-error .log-level {            color: #dc3545;        }                .log-warning .log-level {            color: #ffc107;        }                .log-info .log-level {            color: #17a2b8;        }                .performance-grid {            display: grid;            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));            gap: 20px;            margin-top: 20px;        }                .performance-card {            background: #f8f9fa;            padding: 20px;            border-radius: 8px;        }                .progress-bar {            height: 20px;            background: #e9ecef;            border-radius: 10px;            overflow: hidden;            margin: 10px 0;        }                .progress {            height: 100%;            background: #3498db;            transition: width 0.3s ease;        }    </style></head><body>    <div class="admin-layout">        <aside class="admin-sidebar">            <div class="admin-logo">                <img src="https://cdn-icons-png.flaticon.com/512/1384/1384060.png" alt="Logo">                <span>Admin Panel</span>            </div>                        <ul class="admin-menu">                <li><a href="/admin/dashboard.html">Dashboard</a></li>                <li><a href="/admin/users.html">User Management</a></li>                <li><a href="/admin/contact-management.html">Contact Messages</a></li>                <li><a href="/admin/settings.html" class="active">Settings</a></li>                <li><a href="/" target="_blank">View Website</a></li>                <li><a href="#" id="logout-link">Logout</a></li>            </ul>        </aside>                <main class="admin-content">            <header class="admin-header">                <h1 class="page-title">Settings</h1>                                <div class="admin-user">                    <img src="https://via.placeholder.com/40" alt="Admin User">                    <span id="admin-name">Admin User</span>                </div>            </header>                        <div id="alert-container"></div>                        <!-- General Settings -->            <div class="settings-section">                <div class="section-header">                    <h2 class="section-title">General Settings</h2>                </div>                                <div class="setting-item">                    <div class="setting-info">                        <div class="setting-name">Maintenance Mode</div>                        <div class="setting-description">Enable maintenance mode to temporarily disable the site for all users except admins.</div>                    </div>                    <label class="switch">                        <input type="checkbox" id="maintenance-mode">                        <span class="slider"></span>                    </label>                </div>                                <div class="setting-item">                    <div class="setting-info">                        <div class="setting-name">Allow New Registrations</div>                        <div class="setting-description">Toggle user registration functionality.</div>                    </div>                    <label class="switch">                        <input type="checkbox" id="allow-registrations" checked>                        <span class="slider"></span>                    </label>                </div>                                <div class="setting-item">                    <div class="setting-info">                        <div class="setting-name">Email Notifications</div>                        <div class="setting-description">Send email notifications for new contact form submissions.</div>                    </div>                    <label class="switch">                        <input type="checkbox" id="email-notifications" checked>                        <span class="slider"></span>                    </label>                </div>            </div>                        <!-- API Settings -->            <div class="settings-section">                <div class="section-header">                    <h2 class="section-title">API Configuration</h2>                </div>                                <form id="api-settings-form" class="settings-form">                    <div class="form-group">                        <label for="api-key">YouTube API Key</label>                        <input type="text" id="api-key" placeholder="Enter your YouTube API Key">                    </div>                                        <div class="form-group">                        <label for="api-requests-limit">Daily API Request Limit</label>                        <input type="number" id="api-requests-limit" min="10" value="100">                    </div>                                        <div class="form-group">                        <label for="api-fallback">Fallback Strategy</label>                        <select id="api-fallback">                            <option value="error">Show Error Message</option>                            <option value="manual" selected>Allow Manual Input</option>                            <option value="queue">Queue Request for Later</option>                        </select>                    </div>                                        <button type="submit" class="btn btn-primary">Save API Settings</button>                </form>            </div>                        <!-- Content Settings -->            <div class="settings-section">                <div class="section-header">                    <h2 class="section-title">Content Settings</h2>                </div>                                <form id="content-settings-form" class="settings-form">                    <div class="form-group">                        <label for="max-transcript-length">Maximum Transcript Length (characters)</label>                        <input type="number" id="max-transcript-length" min="1000" value="50000">                    </div>                                        <div class="form-group">                        <label for="default-language">Default Language</label>                        <select id="default-language">                            <option value="en">English</option>                            <option value="es">Spanish</option>                            <option value="fr">French</option>                            <option value="de">German</option>                            <option value="it">Italian</option>                            <option value="pt">Portuguese</option>                            <option value="ru">Russian</option>                            <option value="ja">Japanese</option>                            <option value="zh">Chinese</option>                        </select>                    </div>                                        <div class="setting-item">                        <div class="setting-info">                            <div class="setting-name">Allow Translation</div>                            <div class="setting-description">Enable translation of transcripts to other languages.</div>                        </div>                        <label class="switch">                            <input type="checkbox" id="allow-translation" checked>                            <span class="slider"></span>                        </label>                    </div>                                        <button type="submit" class="btn btn-primary">Save Content Settings</button>                </form>            </div>                        <!-- System Information -->            <div class="settings-section">                <div class="section-header">                    <h2 class="section-title">System Information</h2>                </div>                                <div class="form-group">                    <label>Application Version</label>                    <div><strong id="app-version">1.0.0</strong></div>                </div>                                <div class="form-group">                    <label>Database Status</label>                    <div><strong id="db-status">Connected</strong></div>                </div>                                <div class="form-group">                    <label>Last Backup</label>                    <div><strong id="last-backup">Never</strong></div>                </div>                                <div class="form-row">                    <button id="view-analytics" class="btn btn-secondary">View Analytics</button>                    <button id="view-logs" class="btn btn-secondary">View Logs</button>                    <button id="monitor-performance" class="btn btn-secondary">Monitor Performance</button>                </div>                                <div class="import-export-buttons">                    <button id="export-settings" class="btn btn-secondary">Export Settings</button>                    <div class="file-input-wrapper">                        <button class="btn btn-secondary">Import Settings</button>                        <input type="file" id="import-settings" accept=".json">                    </div>                    <button id="health-check" class="btn btn-secondary">System Health Check</button>                    <button id="reset-default" class="btn btn-danger">Reset to Default</button>                </div>            </div>        </main>    </div>        <script>        document.addEventListener('DOMContentLoaded', function() {            // Check for admin authorization first            checkAdminAuth();                        // Set up event listeners            document.getElementById('logout-link').addEventListener('click', function(e) {                e.preventDefault();                logout();            });                        // API Settings Form            document.getElementById('api-settings-form').addEventListener('submit', function(e) {                e.preventDefault();                saveApiSettings();            });                        // Content Settings Form            document.getElementById('content-settings-form').addEventListener('submit', function(e) {                e.preventDefault();                saveContentSettings();            });                        // System action buttons            document.getElementById('backup-btn').addEventListener('click', createBackup);            document.getElementById('clear-cache-btn').addEventListener('click', clearCache);            document.getElementById('test-email-btn').addEventListener('click', testEmail);                        // Toggle switches            document.getElementById('maintenance-mode').addEventListener('change', toggleMaintenanceMode);            document.getElementById('allow-registrations').addEventListener('change', toggleRegistrations);            document.getElementById('email-notifications').addEventListener('change', toggleEmailNotifications);            document.getElementById('allow-translation').addEventListener('change', toggleTranslation);                        // Add new event listeners            document.getElementById('export-settings').addEventListener('click', exportSettings);            document.getElementById('import-settings').addEventListener('change', importSettings);            document.getElementById('health-check').addEventListener('click', checkSystemHealth);            document.getElementById('reset-default').addEventListener('click', resetToDefault);        });                // Check if user is authenticated and is an admin        async function checkAdminAuth() {            try {                const response = await fetch('/api/auth/user', {                    method: 'GET',                    credentials: 'include'                });                                if (!response.ok) {                    throw new Error('Authentication error');                }                                const data = await response.json();                                if (!data.success || !data.user) {                    // Not logged in, redirect to login                    window.location.href = '/admin/login.html';                    return;                }                                // Check if user is an admin                if (!data.user.isAdmin) {                    // Not an admin, show error and redirect                    alert('Access denied. Admin privileges required.');                    window.location.href = '/';                    return;                }                                // User is authorized, set admin name                document.getElementById('admin-name').textContent = data.user.username || 'Admin';                                // Load settings                loadSettings();                                // Load system info                loadSystemInfo();            } catch (error) {                console.error('Authorization error:', error);                showAlert('Authentication error. Please login again.', 'danger');                setTimeout(() => {                    window.location.href = '/admin/login.html';                }, 2000);            }        }                // Load settings from API        async function loadSettings() {            try {                const response = await fetch('/api/admin/settings', {                    method: 'GET',                    credentials: 'include'                });                                if (!response.ok) {                    throw new Error('Failed to load settings');                }                                const data = await response.json();                                if (data.success) {                    // Populate form fields with loaded settings                    if (data.settings) {                        const settings = data.settings;                                                // General settings                        document.getElementById('maintenance-mode').checked = settings.maintenanceMode || false;                        document.getElementById('allow-registrations').checked = settings.allowRegistrations !== false; // Default to true                        document.getElementById('email-notifications').checked = settings.emailNotifications !== false; // Default to true                                                // API settings                        document.getElementById('api-key').value = settings.apiKey || '';                        document.getElementById('api-requests-limit').value = settings.apiRequestsLimit || 100;                        document.getElementById('api-fallback').value = settings.apiFallback || 'manual';                                                // Content settings                        document.getElementById('max-transcript-length').value = settings.maxTranscriptLength || 50000;                        document.getElementById('default-language').value = settings.defaultLanguage || 'en';                        document.getElementById('allow-translation').checked = settings.allowTranslation !== false; // Default to true                    }                } else {                    showAlert('Failed to load settings: ' + (data.message || 'Unknown error'), 'danger');                }            } catch (error) {                console.error('Error loading settings:', error);                showAlert('Error loading settings: ' + error.message, 'danger');                                // Load default settings as fallback                loadDefaultSettings();            }        }                // Load default settings as fallback        function loadDefaultSettings() {            console.log('Loading default settings');                        // General settings            document.getElementById('maintenance-mode').checked = false;            document.getElementById('allow-registrations').checked = true;            document.getElementById('email-notifications').checked = true;                        // API settings            document.getElementById('api-key').value = '';            document.getElementById('api-requests-limit').value = 100;            document.getElementById('api-fallback').value = 'manual';                        // Content settings            document.getElementById('max-transcript-length').value = 50000;            document.getElementById('default-language').value = 'en';            document.getElementById('allow-translation').checked = true;        }                // Load system information        function loadSystemInfo() {            // In a real application, this would be loaded from an API endpoint            document.getElementById('app-version').textContent = '1.0.0';            document.getElementById('db-status').textContent = 'Connected';            document.getElementById('last-backup').textContent = 'Never';        }                // Save API settings        async function saveApiSettings() {            try {                const settings = {                    apiKey: document.getElementById('api-key').value,                    apiRequestsLimit: document.getElementById('api-requests-limit').value,                    apiFallback: document.getElementById('api-fallback').value                };                                // In a real application, these would be saved to the server                console.log('Saving API settings:', settings);                                // Simulate API call                setTimeout(() => {                    showAlert('API settings saved successfully', 'success');                }, 500);            } catch (error) {                console.error('Error saving API settings:', error);                showAlert('Error saving API settings: ' + error.message, 'danger');            }        }                // Save content settings        async function saveContentSettings() {            try {                const settings = {                    maxTranscriptLength: document.getElementById('max-transcript-length').value,                    defaultLanguage: document.getElementById('default-language').value,                    allowTranslation: document.getElementById('allow-translation').checked                };                                // In a real application, these would be saved to the server                console.log('Saving content settings:', settings);                                // Simulate API call                setTimeout(() => {                    showAlert('Content settings saved successfully', 'success');                }, 500);            } catch (error) {                console.error('Error saving content settings:', error);                showAlert('Error saving content settings: ' + error.message, 'danger');            }        }                // Toggle maintenance mode        function toggleMaintenanceMode() {            const enabled = document.getElementById('maintenance-mode').checked;            console.log('Maintenance mode:', enabled ? 'enabled' : 'disabled');                        // In a real application, this would be saved to the server            showAlert(`Maintenance mode ${enabled ? 'enabled' : 'disabled'}`, 'info');        }                // Toggle user registrations        function toggleRegistrations() {            const enabled = document.getElementById('allow-registrations').checked;            console.log('User registrations:', enabled ? 'enabled' : 'disabled');                        // In a real application, this would be saved to the server            showAlert(`User registrations ${enabled ? 'enabled' : 'disabled'}`, 'info');        }                // Toggle email notifications        function toggleEmailNotifications() {            const enabled = document.getElementById('email-notifications').checked;            console.log('Email notifications:', enabled ? 'enabled' : 'disabled');                        // In a real application, this would be saved to the server            showAlert(`Email notifications ${enabled ? 'enabled' : 'disabled'}`, 'info');        }                // Toggle translation        function toggleTranslation() {            const enabled = document.getElementById('allow-translation').checked;            console.log('Translation:', enabled ? 'enabled' : 'disabled');                        // In a real application, this would be saved to the server            showAlert(`Translation ${enabled ? 'enabled' : 'disabled'}`, 'info');        }                // Create backup        function createBackup() {            console.log('Creating backup...');                        // In a real application, this would trigger a server-side backup            showAlert('Backup created successfully', 'success');            document.getElementById('last-backup').textContent = new Date().toLocaleString();        }                // Clear cache        function clearCache() {            console.log('Clearing cache...');                        // In a real application, this would clear server-side cache            showAlert('Cache cleared successfully', 'success');        }                // Test email        function testEmail() {            console.log('Sending test email...');                        // In a real application, this would send a test email            showAlert('Test email sent successfully', 'success');        }                // Logout function        async function logout() {            try {                const response = await fetch('/api/auth/logout', {                    method: 'POST',                    credentials: 'include'                });                                window.location.href = '/admin/login.html';            } catch (error) {                console.error('Error logging out:', error);                alert('Error logging out. Please try again.');            }        }                // Show alert message        function showAlert(message, type) {            const alertContainer = document.getElementById('alert-container');            const alert = document.createElement('div');            alert.className = `alert alert-${type}`;            alert.textContent = message;                        alertContainer.innerHTML = '';            alertContainer.appendChild(alert);                        // Auto-dismiss after 5 seconds            setTimeout(() => {                alert.remove();            }, 5000);        }        // Export system settings        async function exportSettings() {            try {                const settings = {                    general: {                        maintenanceMode: document.getElementById('maintenance-mode').checked,                        allowRegistrations: document.getElementById('allow-registrations').checked,                        emailNotifications: document.getElementById('email-notifications').checked                    },                    api: {                        apiKey: document.getElementById('api-key').value,                        apiRequestsLimit: document.getElementById('api-requests-limit').value,                        apiFallback: document.getElementById('api-fallback').value                    },                    content: {                        maxTranscriptLength: document.getElementById('max-transcript-length').value,                        defaultLanguage: document.getElementById('default-language').value,                        allowTranslation: document.getElementById('allow-translation').checked                    }                };                const blob = new Blob([JSON.stringify(settings, null, 2)], { type: 'application/json' });                const url = URL.createObjectURL(blob);                const a = document.createElement('a');                a.href = url;                a.download = `settings-backup-${new Date().toISOString().split('T')[0]}.json`;                document.body.appendChild(a);                a.click();                document.body.removeChild(a);                URL.revokeObjectURL(url);                showAlert('Settings exported successfully', 'success');            } catch (error) {                console.error('Error exporting settings:', error);                showAlert('Error exporting settings: ' + error.message, 'danger');            }        }        // Import system settings        async function importSettings(event) {            try {                const file = event.target.files[0];                if (!file) return;                const reader = new FileReader();                reader.onload = async (e) => {                    try {                        const settings = JSON.parse(e.target.result);                                                // Apply imported settings                        if (settings.general) {                            document.getElementById('maintenance-mode').checked = settings.general.maintenanceMode;                            document.getElementById('allow-registrations').checked = settings.general.allowRegistrations;                            document.getElementById('email-notifications').checked = settings.general.emailNotifications;                        }                                                if (settings.api) {                            document.getElementById('api-key').value = settings.api.apiKey;                            document.getElementById('api-requests-limit').value = settings.api.apiRequestsLimit;                            document.getElementById('api-fallback').value = settings.api.apiFallback;                        }                                                if (settings.content) {                            document.getElementById('max-transcript-length').value = settings.content.maxTranscriptLength;                            document.getElementById('default-language').value = settings.content.defaultLanguage;                            document.getElementById('allow-translation').checked = settings.content.allowTranslation;                        }                        showAlert('Settings imported successfully', 'success');                    } catch (error) {                        console.error('Error parsing settings file:', error);                        showAlert('Error parsing settings file: ' + error.message, 'danger');                    }                };                reader.readAsText(file);            } catch (error) {                console.error('Error importing settings:', error);                showAlert('Error importing settings: ' + error.message, 'danger');            }        }        // System health check        async function checkSystemHealth() {            try {                showAlert('Running system health check...', 'info');                                const checks = [                    { name: 'Database Connection', status: 'Checking...' },                    { name: 'API Connectivity', status: 'Checking...' },                    { name: 'Storage Space', status: 'Checking...' },                    { name: 'Cache Status', status: 'Checking...' }                ];                // Update the UI with health check results                const healthChecks = checks.map(check =>                     `<div class="health-check-item">                        <span>${check.name}</span>                        <span class="status">${check.status}</span>                    </div>`                ).join('');                const healthCheckDiv = document.createElement('div');                healthCheckDiv.className = 'health-check-results';                healthCheckDiv.innerHTML = healthChecks;                                document.querySelector('.admin-content').appendChild(healthCheckDiv);                // Simulate health checks                setTimeout(() => {                    showAlert('System health check completed', 'success');                }, 2000);            } catch (error) {                console.error('Error during health check:', error);                showAlert('Error during health check: ' + error.message, 'danger');            }        }        // Reset settings to default        async function resetToDefault() {            if (confirm('Are you sure you want to reset all settings to default values? This cannot be undone.')) {                try {                    loadDefaultSettings();                    showAlert('Settings reset to default values', 'success');                } catch (error) {                    console.error('Error resetting settings:', error);                    showAlert('Error resetting settings: ' + error.message, 'danger');                }            }        }        // Analytics Dashboard Integration        async function loadAnalytics() {            try {                showAlert('Loading analytics data...', 'info');                                // Create analytics section                const analyticsSection = document.createElement('div');                analyticsSection.className = 'settings-section';                analyticsSection.innerHTML = `                    <div class="section-header">                        <h2 class="section-title">Analytics Overview</h2>                    </div>                    <div class="analytics-grid">                        <div class="analytics-card">                            <h3>Active Users</h3>                            <div class="analytics-value">Loading...</div>                        </div>                        <div class="analytics-card">                            <h3>API Usage</h3>                            <div class="analytics-value">Loading...</div>                        </div>                        <div class="analytics-card">                            <h3>Storage Used</h3>                            <div class="analytics-value">Loading...</div>                        </div>                        <div class="analytics-card">                            <h3>Error Rate</h3>                            <div class="analytics-value">Loading...</div>                        </div>                    </div>                `;                                // Insert analytics section after the first settings section                const firstSection = document.querySelector('.settings-section');                firstSection.parentNode.insertBefore(analyticsSection, firstSection.nextSibling);                                // Simulate loading analytics data                setTimeout(() => {                    updateAnalyticsValues();                }, 1000);            } catch (error) {                console.error('Error loading analytics:', error);                showAlert('Error loading analytics: ' + error.message, 'danger');            }        }        // Update analytics values        function updateAnalyticsValues() {            const cards = document.querySelectorAll('.analytics-value');            const mockData = ['234 users', '67% / 100,000', '45.2 GB', '0.12%'];            cards.forEach((card, index) => {                card.textContent = mockData[index];            });        }        // System Logs Viewer        async function viewSystemLogs() {            try {                const logsSection = document.createElement('div');                logsSection.className = 'settings-section';                logsSection.innerHTML = `                    <div class="section-header">                        <h2 class="section-title">System Logs</h2>                        <button class="btn btn-secondary btn-sm" onclick="refreshLogs()">Refresh</button>                    </div>                    <div class="logs-container">                        <div class="log-filters">                            <select id="log-level">                                <option value="all">All Levels</option>                                <option value="error">Errors</option>                                <option value="warning">Warnings</option>                                <option value="info">Info</option>                            </select>                            <input type="date" id="log-date" value="${new Date().toISOString().split('T')[0]}">                        </div>                        <div class="log-entries" id="log-entries">                            <div class="log-entry">Loading logs...</div>                        </div>                    </div>                `;                                document.querySelector('.admin-content').appendChild(logsSection);                                // Simulate loading logs                setTimeout(() => {                    displayMockLogs();                }, 1000);            } catch (error) {                console.error('Error viewing logs:', error);                showAlert('Error viewing logs: ' + error.message, 'danger');            }        }        // Display mock logs        function displayMockLogs() {            const mockLogs = [                { level: 'error', message: 'Failed to connect to database', timestamp: '2024-01-20 10:15:23' },                { level: 'warning', message: 'High API usage detected', timestamp: '2024-01-20 10:14:55' },                { level: 'info', message: 'System backup completed', timestamp: '2024-01-20 10:13:30' }            ];                        const logEntries = document.getElementById('log-entries');            logEntries.innerHTML = mockLogs.map(log => `                <div class="log-entry log-${log.level}">                    <span class="log-timestamp">${log.timestamp}</span>                    <span class="log-level">${log.level.toUpperCase()}</span>                    <span class="log-message">${log.message}</span>                </div>            `).join('');        }        // Performance Monitoring        async function monitorPerformance() {            try {                const perfSection = document.createElement('div');                perfSection.className = 'settings-section';                perfSection.innerHTML = `                    <div class="section-header">                        <h2 class="section-title">Performance Monitoring</h2>                        <button class="btn btn-secondary btn-sm" onclick="refreshPerformance()">Refresh</button>                    </div>                    <div class="performance-grid">                        <div class="performance-card">                            <h3>CPU Usage</h3>                            <div class="progress-bar">                                <div class="progress" style="width: 0%"></div>                            </div>                            <div class="performance-value">0%</div>                        </div>                        <div class="performance-card">                            <h3>Memory Usage</h3>                            <div class="progress-bar">                                <div class="progress" style="width: 0%"></div>                            </div>                            <div class="performance-value">0%</div>                        </div>                    </div>                `;                                document.querySelector('.admin-content').appendChild(perfSection);                                // Start monitoring                refreshPerformance();            } catch (error) {                console.error('Error monitoring performance:', error);                showAlert('Error monitoring performance: ' + error.message, 'danger');            }        }        // Refresh performance data        function refreshPerformance() {            const cpuUsage = Math.floor(Math.random() * 100);            const memoryUsage = Math.floor(Math.random() * 100);                        document.querySelectorAll('.performance-card').forEach((card, index) => {                const value = index === 0 ? cpuUsage : memoryUsage;                card.querySelector('.progress').style.width = `${value}%`;                card.querySelector('.performance-value').textContent = `${value}%`;            });        }    </script></body></html> 